(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{490:function(t,e,o){"use strict";o.r(e);var r=o(88),n=o.n(r),l={name:"WebSSH",data:function(){return{rdrawer:!1,hostTableData:[],hostCount:1e3,pathLike:"",pageSize:20,pageCur:1,combCmd:""}},methods:{onSearch:function(){var t=this;n.a.get("/api/host/log",{params:{path:this.pathLike,offset:(this.pageCur-1)*this.pageSize,limit:this.pageSize}}).then((function(e){if(200!=e.status||0!=e.data.code)throw"Error: Query Data";t.hostTableData=e.data.data,t.hostCount=e.data.count,t.combCmd="";for(var i=t.hostTableData.length-1;i>=0;i--)t.cpmbCmd+=t.hostTableData[i].content;console.log(t.cpmbCmd)})).catch(console.log)},formatDate:function(t,col,e,o){return new Date(e).toUTCString()},handleSizeChange:function(t){this.pageSize=t,this.onSearch()},handleCurrentChange:function(t){this.pageCur=t,this.onSearch()}},mounted:function(){this.$route.query&&this.$route.query.path&&(this.pathLike=this.$route.query.path),this.onSearch()}},h=o(54),component=Object(h.a)(l,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"container"},[e("el-menu",{staticClass:"el-menu-demo",attrs:{mode:"horizontal"}},[e("el-menu-item",{attrs:{index:"1"}},[e("a",{attrs:{href:"/",target:"_blank"}},[t._v("Hosts")])]),t._v(" "),e("el-menu-item",{attrs:{index:"2"}},[e("a",{attrs:{href:"/cmd",target:"_blank"}},[t._v("Commands")])])],1),t._v(" "),e("el-drawer",{attrs:{title:"我是标题",visible:t.rdrawer,direction:t.rtl},on:{"update:visible":function(e){t.rdrawer=e}}},[e("span",[t._v("我来啦!")])]),t._v(" "),e("el-row",[e("el-col",[e("el-input",{attrs:{placeholder:"Search Path","prefix-icon":"el-icon-search"},on:{change:t.onSearch},model:{value:t.pathLike,callback:function(e){t.pathLike=e},expression:"pathLike"}})],1)],1),t._v(" "),e("el-row",[e("el-table",{staticStyle:{width:"100%"},attrs:{data:t.hostTableData,border:""}},[e("el-table-column",{attrs:{fixed:"",prop:"path",label:"Path"}}),t._v(" "),e("el-table-column",{attrs:{prop:"content",label:"content","show-overflow-tooltip":""}}),t._v(" "),e("el-table-column",{attrs:{prop:"create_at",label:"CreateAt",formatter:t.formatDate,"show-overflow-tooltip":""}})],1),t._v(" "),e("div",{staticClass:"block"},[e("el-pagination",{attrs:{"current-page":t.currentPage4,"page-sizes":[20,50,100,200],"page-size":t.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:t.hostCount},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)],1)],1)}),[],!1,null,"4f9784e8",null);e.default=component.exports}}]);